!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dimmer=t()}(this,function(){"use strict";var t={dialogActiveBodyClass:!1},i={text:function(e,t){e.textContent=t},value:function(e,t){e.value=t}},d={onShow:[],onHide:[]},a=function(t,e,o){var n,a=o.dialogActiveBodyClass,r=document.querySelector('[data-dialog="'+t+'"]');a&&document.body.classList.add(a),r.style.display="block",e.forEach(function(e){var t=e.field,o=e.type,n=e.payload,a=r.querySelector("[data-dialog-field='"+t+"']");try{i[o](a,n)}catch(e){console.error('[Dimmer dialog] Payload type should be "text" or "value"')}}),d.onShow.filter(function(e){return t===e.name}).forEach(function(e){return e.fn(r)}),(n=r.querySelector("[data-dialog-autofocus]"))&&n.focus()},o=function(t,e){var o=e.dialogActiveBodyClass,n=document.querySelector('[data-dialog="'+t+'"]');document.body.classList.remove(o),n.style.display="none",d.onHide.filter(function(e){return t===e.name}).forEach(function(e){return e.fn(n)})},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},e=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=r({},t,e);document.querySelectorAll("[data-dialog-open]").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("data-dialog-open"),o=function(e){try{return JSON.parse(e)}catch(e){return console.error("[Dimmer Dialog] Payload should be valid JSON"),null}}(this.getAttribute("data-dialog-payload"))||[];a(t,o,n)})}),document.querySelectorAll("[data-dialog-close]").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=function e(t){return t.getAttribute("data-dialog")||e(t.parentNode)}(this);o(t,n)})})},n=function(e,t){d.onShow.push({name:e,fn:t})},u=function(e,t){d.onHide.push({name:e,fn:t})};return function(){return{init:e,show:a,hide:o,onShow:n,onHide:u}}});
